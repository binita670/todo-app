"use strict";(()=>{function s(n="Something went wrong."){$.toast({heading:"Error",text:n,showHideTransition:"plain",icon:"error",position:"bottom-center"})}function p(n="Something went wrong."){$.toast({heading:"Warning",text:n,showHideTransition:"plain",icon:"warning",position:"bottom-center"})}function a(n="The update is complete."){$.toast({heading:"Success",text:n,showHideTransition:"plain",icon:"success",position:"bottom-center"})}var r=n=>n.status===422?n.responseJSON.errors.map(e=>e.msg).join(`
`):n.message;$(function(n){$("#add-form").submit(function(e){e.preventDefault();let o=$('#add-form input[name="name"]').val(),t=$('#add-form input[name="description"]').val(),c=$('#add-form input[name="deadline"]').val();$.ajax({url:"/api/v1/todos",type:"POST",contentType:"application/json",data:JSON.stringify({name:o,description:t,deadline:c}),success:i=>{console.log(i.data),a("Item added to Todo list successfully.")},error:i=>{s(r(i))}})}),$("#edit-form").submit(function(e){e.preventDefault();let o=$('input[name="id"]').val(),t=$('input[name="name"]').val(),c=$('input[name="description"]').val(),i=$('input[name="deadline"]').val();$.ajax({url:`/api/v1/todos/${o}`,type:"PUT",contentType:"application/json",data:JSON.stringify({name:t,description:c,deadline:i}),success:d=>{console.log(d.data),a("Item edited successfully.")},error:d=>{s(r(d))}})}),$("#delete-form").submit(function(e){e.preventDefault();let o=$('input[name="id"]').val();$.ajax({url:`/api/v1/todos/${o}`,type:"DELETE",success:t=>{a("Item deleted successfully.")},error:t=>{s(r(t))}})}),$(".done-checkbox").on("click",function(e){e.preventDefault();let o=$(this).data("id");$.ajax({url:`/api/v1/todos/change-status/${o}`,type:"PUT",success:t=>{a("Status changed successfully."),$(this).prop("checked",t.done)},error:t=>{s(r(t))}})}),$(".filter-list").on("change",function(e){e.preventDefault();let o=$(this).children("option:selected").val();$.ajax({url:`/api/v1/todos?type=${o}`,type:"GET",success:t=>{a("Status changed successfully.")},error:t=>{s(r(t))}})})});})();
